<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AV Agency Â· Formulario Infoproducto</title>

<!-- FAVICON -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
    background:#000;
    color:#fff;
    overflow:hidden;
}
html,body{cursor:none}

/* CURSOR */
.cursor{
    width:18px;height:18px;
    border:2px solid #3b82f6;
    border-radius:50%;
    position:fixed;
    pointer-events:none;
    transform:translate(-50%,-50%);
    z-index:9999;
}

/* HEADER */
.header{
    position:fixed;
    top:0;left:0;
    width:100%;
    padding:30px;
    text-align:center;
    z-index:10;
}
.logo{font-size:48px;font-weight:900}
.logo span{color:#3b82f6}
.slogan{
    font-size:14px;
    letter-spacing:0.25em;
    color:#777;
}

/* WRAPPER */
.wrapper{
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding-top:140px;
}
.step{
    display:none;
    width:100%;
    max-width:700px;
    animation:fade .4s ease;
}
.step.active{display:block}

@keyframes fade{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
}

.question{
    font-size:28px;
    font-weight:700;
    margin-bottom:30px;
}

/* INPUTS */
input,textarea,select{
    width:100%;
    background:transparent;
    border:none;
    border-bottom:2px solid #333;
    color:#fff;
    font-size:18px;
    padding:15px 10px;
    outline:none;
}
input:focus,textarea:focus,select:focus{border-color:#3b82f6}
textarea{min-height:140px;resize:none}

/* TELÃ‰FONO */
.phone-wrap{
    display:flex;
    gap:12px;
    align-items:flex-end;
}
.phone-prefix{
    width:120px;
    border:2px solid #3b82f6;
    border-radius:12px;
    padding:12px;
    background:transparent;
    color:#fff;
}
.phone-input{flex:1}

/* OPTIONS */
.options{display:flex;flex-direction:column;gap:15px}
.option{
    padding:16px;
    border:2px solid #333;
    cursor:pointer;
}
.option.selected{
    border-color:#3b82f6;
    background:rgba(59,130,246,.1);
}

/* NEXT */
.next{
    margin-top:40px;
    padding:18px;
    width:100%;
    background:#3b82f6;
    border:none;
    color:#fff;
    font-weight:700;
    letter-spacing:.1em;
    cursor:pointer;
    display:none;
}
.next.show{display:block}

/* PROGRESS */
.progress{
    position:fixed;
    bottom:30px;
    left:50%;
    transform:translateX(-50%);
    font-size:14px;
    color:#666;
}
</style>
</head>

<body>

<div class="cursor"></div>

<div class="header">
    <div class="logo"><span>A</span>V</div>
    <div class="slogan">APRENDE Â· CRECE Â· AVANZA</div>
</div>

<div class="wrapper">

<!-- 1 -->
<div class="step active">
    <div class="question">Nombre</div>
    <input required>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 2 -->
<div class="step">
    <div class="question">Apellidos</div>
    <input required>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 3 -->
<div class="step">
    <div class="question">NÃºmero de telÃ©fono</div>
    <div class="phone-wrap">
        <select class="phone-prefix" required>
            <option value="+34">ðŸ‡ªðŸ‡¸ +34</option>
            <option value="+33">ðŸ‡«ðŸ‡· +33</option>
            <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
            <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
        </select>
        <input class="phone-input" type="tel" required placeholder="612 345 678">
    </div>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 4 -->
<div class="step">
    <div class="question">Correo electrÃ³nico</div>
    <input type="email" required>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 5 -->
<div class="step">
    <div class="question">Â¿Sobre quÃ© tema quieres tu infoproducto?</div>
    <textarea required></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 6 -->
<div class="step">
    <div class="question">Describe tu pÃºblico objetivo</div>
    <textarea required></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 7 -->
<div class="step">
    <div class="question">Tipo de infoproducto</div>
    <div class="options">
        <div class="option">E-book</div>
        <div class="option">Plantilla/Recursos descargables</div>
        <div class="option">Cursos Online</div>
        <div class="option">Otro</div>
    </div>
    <textarea placeholder="Especifica..." style="display:none;margin-top:20px"></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 8 -->
<div class="step">
    <div class="question">Â¿En cuÃ¡nto tiempo quieres lograrlo?</div>
    <div class="options">
        <div class="option">&lt; 30 dÃ­as</div>
        <div class="option">60 / 90 dÃ­as</div>
        <div class="option">120 dÃ­as</div>
    </div>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 9 -->
<div class="step">
    <div class="question">Â¿CuÃ¡nto tiempo diario puedes dedicar?</div>
    <div class="options">
        <div class="option">&lt; 1 hora</div>
        <div class="option">1â€“3 horas</div>
        <div class="option">4 horas o mÃ¡s</div>
    </div>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 10 -->
<div class="step">
    <div class="question">Â¿Tienes capital para iniciar?</div>
    <div class="options">
        <div class="option">SÃ­</div>
        <div class="option">No</div>
    </div>
    <textarea placeholder="Â¿CuÃ¡nto capital?" style="display:none;margin-top:20px"></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 12 -->
<div class="step">
    <div class="question">Â¿Tienes estructura definida?</div>
    <div class="options">
        <div class="option">Tengo estructura clara</div>
        <div class="option">Prefiero que la creÃ©is</div>
    </div>
    <textarea placeholder="ExplÃ­cala..." style="display:none;margin-top:20px"></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 13 -->
<div class="step">
    <div class="question">Temas imprescindibles</div>
    <textarea required></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 14 -->
<div class="step">
    <div class="question">Â¿QuÃ© NO quieres que aparezca?</div>
    <textarea></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 15 -->
<div class="step">
    <div class="question">Estilo visual deseado</div>
    <textarea></textarea>
    <button class="next">SIGUIENTE</button>
</div>

<!-- 16 -->
<div class="step">
    <div class="question">Extras opcionales</div>
    <div class="options">
        <div class="option">Frases motivadoras</div>
        <div class="option">Consejos prÃ¡cticos</div>
        <div class="option">Recursos descargables</div>
        <div class="option">Plantillas</div>
        <div class="option">Ejercicios</div>
        <div class="option">Otro</div>
    </div>
    <textarea placeholder="Especifica..." style="display:none;margin-top:20px"></textarea>
    <button class="next">FINALIZAR</button>
</div>

</div>

<div class="progress">Paso <span id="p">1</span> de 15</div>

<script>

/* ===== DATOS DEL FORMULARIO ===== */
const formData = {};

/* ===== CURSOR ===== */
const cursor=document.querySelector('.cursor');
document.addEventListener('mousemove',e=>{
    cursor.style.left=e.clientX+'px';
    cursor.style.top=e.clientY+'px';
});

/* ===== STEPS ===== */
const steps=[...document.querySelectorAll('.step')];
let i=0;

function update(){
    steps.forEach(s=>s.classList.remove('active'));
    steps[i].classList.add('active');
    document.getElementById('p').textContent=i+1;
}

steps.forEach(step=>{
    const next=step.querySelector('.next');
    const options=step.querySelectorAll('.option');
    const extra=step.querySelector('textarea');
    const inputs=step.querySelectorAll('input,textarea,select');

    function check(){
        let valid=true;
        inputs.forEach(inp=>{
            if(inp.required && !inp.value.trim()) valid=false;
        });
        if(extra && extra.style.display==='block' && !extra.value.trim()) valid=false;
        next.classList.toggle('show',valid);
    }

    inputs.forEach(inp=>{
        inp.addEventListener('input',check);
        inp.addEventListener('keydown',e=>{
            if(e.key==="Enter" && next.classList.contains('show')){
                e.preventDefault(); next.click();
            }
        });
    });

    options.forEach(o=>{
        o.addEventListener('click',()=>{
            options.forEach(x=>x.classList.remove('selected'));
            o.classList.add('selected');
            if(o.textContent==="Otro"){
                extra.style.display='block';
                extra.value='';
            }else if(extra){
                extra.style.display='none';
            }
            check();
        });
    });

    if(extra) extra.addEventListener('input',check);

next.addEventListener('click',()=>{

    /* ===== GUARDAR RESPUESTA DEL PASO ACTUAL ===== */
    const question = step.querySelector('.question')?.innerText || `Paso ${i+1}`;

    const input = step.querySelector('input:not([type="tel"])');
    const textarea = step.querySelector('textarea');
    const tel = step.querySelector('.phone-input');
    const prefix = step.querySelector('.phone-prefix');
    const selectedOption = step.querySelector('.option.selected');

    let value = '';

    if (tel && prefix) {
        value = `${prefix.value} ${tel.value}`;
    } else if (selectedOption) {
        value = selectedOption.innerText;
        if (textarea && textarea.style.display === 'block') {
            value += ` - ${textarea.value}`;
        }
    } else if (input) {
        value = input.value;
    } else if (textarea) {
        value = textarea.value;
    }

    formData[question] = value;

    /* ===== SIGUIENTE PASO ===== */
    if(i < steps.length - 1){
        i++;
        update();
    } else {
        console.log('FORM DATA FINAL:', formData);

        // ðŸ‘‰ guardar datos para el loader
        localStorage.setItem('av_form_data', JSON.stringify(formData));

        // ðŸ‘‰ ir al loader
        window.location.href = "loader.html";
    }
});

});
</script>

</body>
</html>
